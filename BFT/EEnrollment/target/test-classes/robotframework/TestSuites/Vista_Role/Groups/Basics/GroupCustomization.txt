*** Settings ***
Documentation     Test Suite consists of all the automated test scenarios for Group Customization functionality
Test Setup        getResource
Force Tags        groupcustomization
Resource          ../../../../Resources/Common.txt

*** Variables ***

*** Test Cases ***
1.Verify that HR admin is able to create HR notes when HR notes is enabled at the group level
    [Documentation]    Author : *Nagarjuna Behara*
    ...
    ...    Tests Case Title: *Verify that HR admin is able to create HR notes when HR notes is enabled at the group level*
    ...
    ...    Login to eEnrollment as a Vista User
    ...
    ...    Search for Sponsor "BF QA Test Automation Group"
    ...
    ...    Navigate to Group Customization
    ...
    ...    Set 'Content Manager' property as Enable
    ...
    ...    Logout to eEnrollment as a Vista User
    ...
    ...    Login to HR Admin
    ...
    ...    Navigate to Content Manager
    ...
    ...    Create New HR Note and Verify
    ...
    ...    Logout HR Admin
    ...
    ...
    ...    Test case No: 160
    Login as vista admin with valid credentials
    Perform Group Search    td:automationgroup1
    Navigate To    BASICS    Group Customization
    Group Customization Configuration    Content Management    Enabled    yes
    Navigate To    USERS    Administrators & Contacts
    Logout Vista Admin
    Login as HR admin
    Navigate To HR Menu    CONTENTMANAGER
    Create New HR Note
    Logout HR Admin

2.Verify that the link for creating the widgets in HR role is shown when Widget manager is enabled at group level
    [Documentation]    Author : *Nagarjuna Behara*
    ...
    ...    Tests Case Title: *link creating for the widget in HR role*
    ...
    ...    Login to eEnrollment as a Vista User
    ...
    ...    Search for Sponsor "BF QA Test Automation Group"
    ...
    ...    Navigate to Group Customization
    ...
    ...    Set 'Content Manager' property as Enable
    ...
    ...    Logout to eEnrollment as a Vista User
    ...
    ...    Login to HR Admin
    ...
    ...    Navigate to Content Manager
    ...
    ...    Create New Widget in HR role
    ...
    ...    Verify the " Links Widget Manager" Message
    ...
    ...    Logout HR Admin
    Login as vista admin with valid credentials
    Perform Group Search    td:automationgroup1
    Navigate To    BASICS    Group Customization
    Group Customization Configuration    Content Management    Enabled    yes
    Logout Vista Admin
    Login as HR admin
    Navigate To HR Menu    CONTENTMANAGER
    Create New Widget
    Verify Message    Links Widget Manager
    Logout HR Admin

3.Verify that W4, Military, Direct deposit, Emergency Contact sections are shown in the Member role (profile page) and HR role when they are enabled at Group level else not
    [Documentation]    Author : *Nagarjuna Behara*
    ...
    ...    Tests Case Title: *Verify that W4, Military, Direct deposit, Emergency Contact sections are shown in the Member role (profile page) and HR role when they are enabled at Group level else not*
    ...
    ...    Login to eEnrollment as a Vista User
    ...
    ...    Search for Sponsor "BF QA Test Automation Group"
    ...
    ...    Navigate to Group Customization
    ...
    ...    Set 'Military' property as Enable
    ...
    ...    Set 'Emergency Contact' property as On, Editable by Members and Administrators
    ...
    ...    and Save the Group Customization
    ...
    ...    Navigate to Users, Add new Member
    ...
    ...    Logout to eEnrollment as a Vista User
    ...
    ...    Login to eEnrollment as Meber (with Initial Login)
    ...
    ...    Perform Get Started in New Member role
    ...
    ...    Verify the military services,directdeposit,emergencycontact in Profile page
    ...
    ...    Logout as Member Role
    ...
    ...
    ...    Test case No: 164
    Login as vista admin with valid credentials
    Perform Group Search    td:automationgroup1
    Navigate To    BASICS    Group Customization
    Group Customization Configuration    Military    Enabled    yes
    Navigate To    BASICS    Group Customization
    Group Customization Configuration    Emergency Contact    On, Editable by Members and Administrators    yes
    Navigate To    USERS    Add Member
    Add Member In Vista    td:mandatory    lastname
    Logout Vista Admin
    Login To Enrollment With Valid Credentials    HMVmemberloginid    bfEnrol0
    Member Initial Login
    Perform Get Started In Member Role
    Verify Member Profile Page    militaryservices
    Logout Member

4.Verify the functionality of setting the Min and Max no. of emergency contacts at the group level
    [Documentation]    Author : *Nagarjuna Behara*
    ...
    ...    Tests \ Case Title: *Verify the functionality of setting the Min and Max no. of emergency contacts at the group level*
    ...
    ...    1 ) Login to eEnrollment as a Vista User
    ...
    ...    2) Search for Sponsor "BF QA Test Automation Group"
    ...
    ...    3) Navigate to *Group Customization*
    ...
    ...    4) Verify *Maximum Number of Accounts* property as 1
    ...
    ...    5) Navigate to Users, Add new Member
    ...
    ...    6) Logout to eEnrollment as a Vista User
    ...
    ...    7)Login to eEnrollment as Meber (with Initial Login)
    ...
    ...    8) Perform Get Started in New Member role
    ...
    ...    9) Update Add Emenrgency Contact in Member Role
    ...
    ...    10) Verify The Successull Message in the Member Role Page
    ...
    ...    11) Logout as Member Role
    ...
    ...    TestCases Coverd : 165 and 169
    Login as vista admin with valid credentials
    Perform Group Search    td:automationgroup1
    Navigate To    BASICS    Group Customization
    Group Customization Configuration    Maximum Number of Accounts    1    yes
    Navigate To    USERS    Add Member
    Add Member In Vista    td:mandatory    lastname
    Logout Vista Admin
    Login To Enrollment With Valid Credentials    HMVmemberloginid    bfEnrol0
    Member Initial Login
    Perform Get Started In Member Role
    Add Emergency Contact In Member Role    td:emergencycontact
    Logout Member

5.Verify the functionality of setting the Min and Max no. of Direct deposit accounts at the group level
    [Documentation]    Author : *Nagarjuna Behara*
    ...
    ...    Tests \ Case Title: *Verify the functionality of setting the Min and Max no. of Direct deposit accounts at the group level*
    ...
    ...    1 ) Login to eEnrollment as a Vista User
    ...
    ...    2) Search for Sponsor "BF QA Test Automation Group"
    ...
    ...    3) Navigate to *Group Customization*
    ...
    ...    4) Verify *DirectDeposit* property as Enable
    ...
    ...    5) Navigate to Users, Add new Member
    ...
    ...    6) Logout to eEnrollment as a Vista User
    ...
    ...    7)Login to eEnrollment as Meber (with Initial Login)
    ...
    ...    8) Perform Get Started in New Member role
    ...
    ...    9) Update Add Direct Deposit in Member Role
    ...
    ...    10) Verify The Successull Message in the Member Role Page
    ...
    ...    11) Logout as Member Role
    ...
    ...    TestCases Coverd : 166
    Login as vista admin with valid credentials
    Perform Group Search    td:automationgroup1
    Navigate To    BASICS    Group Customization
    Group Customization Configuration    Direct Deposit    Enabled    yes
    Navigate To    USERS    Add Member
    Add Member In Vista    td:mandatory    lastname
    Logout Vista Admin
    Login To Enrollment With Valid Credentials    HMVmemberloginid    bfEnrol0
    member initial login
    Perform Get Started In Member Role
    Add Direct Deposit In Member Role    td:directdeposit
    Logout Member

6.Verify that when 'Allow Member to Edit Personal Information" is set to All Fields, member is allowed to update the personal information in the Profile page
    [Documentation]    Author : *Nagarjuna Behara*
    ...
    ...    Tests \ Case Title: *Verify that when 'Allow Member to Edit Personal Information" is set to All Fields, member is allowed to update the personal information in the Profile page*
    ...
    ...    1 ) Login to eEnrollment as a Vista User
    ...
    ...    2) Search for Sponsor "BF QA Test Automation Group"
    ...
    ...    3) Navigate to *Group Customization*
    ...
    ...    4) Verify *DirectDeposit* property as Enable
    ...
    ...    5) Navigate to Users, Add new Member
    ...
    ...    6) Logout to eEnrollment as a Vista User
    ...
    ...    7)Login to eEnrollment as Meber (with Initial Login)
    ...
    ...    8) Perform Get Started in New Member role
    ...
    ...    9) Update Add Personal Information in Member Role
    ...
    ...    10) Verify The Successull Message in the Member Role Page
    ...
    ...    11) Logout as Member Role
    ...
    ...    TestCases Coverd : 170
    Login as vista admin with valid credentials
    Perform Group Search    td:automationgroup1
    Navigate To    BASICS    Group Customization
    Group Customization Configuration    Direct Deposit    Enabled    yes
    Navigate To    USERS    Add Member
    Add Member In Vista    td:mandatory    lastname
    Logout Vista Admin
    Login To Enrollment With Valid Credentials    HMVmemberloginid    bfEnrol0
    Member Initial Login
    Perform Get Started In Member Role
    Add Personal Information In Member Role    td:personalinformation
    Logout Member

7.Initiate Life Event
    [Documentation]    Author : *Nagarjuna Behara*
    ...
    ...
    ...    Test Case Title: *Initiate Life Event*
    ...
    ...    1) Login to eEnrollment as a Vista User
    ...
    ...    2) Search for Group "BF QA Test Automation Group"
    ...
    ...    3) Navigate to Group Customization
    ...
    ...    4) Set 'Initiate Life Event for Employee' property as Enable
    ...
    ...    5) Click on Save in \ Group Customization
    ...
    ...    6) Logout to eEnrollment as a Vista User
    ...
    ...    7) Login to eEnrollment as HR Admin
    ...
    ...    8) Navigate to Employess, Add new Member
    ...
    ...    9) Click on Manage Employee Button
    ...
    ...    10) Click Initiate Life Event
    ...
    ...    11) Add Life Event and Save.
    ...
    ...    12) Update benefits using Life Event created
    ...
    ...    13) Logout as HR Admin Role
    ...
    ...
    ...    Test Case N0: 52
    Login as vista admin with valid credentials
    Perform Group Search    td:automationgroup1
    Navigate To    BASICS    Group Customization
    Group Customization Configuration    Initiate Life Event for Employee    Enabled    yes
    Logout Vista Admin
    Login as HR admin
    Navigate To HR Menu    Employees
    Add Employee In HR Admin    td:allfields    lastname
    Initiate A Life Event For Employee    Birth    d:currentdate
    Logout HR Admin

8.View in Member Role
    [Documentation]    Author : *Nagarjuna Behara*
    ...
    ...
    ...    Test Case Title: *View in Member Role*
    ...
    ...    1) Login to eEnrollment as a Vista User
    ...
    ...    2) Search for Group "BF QA Test Automation Group"
    ...
    ...    3) Navigate to Group Customization
    ...
    ...    4) Set 'Allow Administrator to Access Member Role' property as Enable
    ...
    ...    5) Click on Save in Group Customization
    ...
    ...    6) Navigate to Administrator in USERS Tab
    ...
    ...    7) set '' properity as Yes
    ...
    ...    6) Logout to eEnrollment as a Vista User
    ...
    ...    7) Login to eEnrollment as HR Admin
    ...
    ...    8) Navigate to Employess, Add new Member
    ...
    ...    9) Perform Simple Employee Search (Search for a new Employee)
    ...
    ...    9) Click on Manage Employee Button
    ...
    ...    10) Click on View in Member role
    ...
    ...    11) Verify 'Welcome back' with new user name
    ...
    ...    12) Logout from Member Role
    ...
    ...    13) Logout as HR Admin Role
    ...
    ...
    ...    Test Case N0: 44
    Login as vista admin with valid credentials
    Perform Group Search    td:automationgroup1
    Navigate To    BASICS    Group Customization
    Group Customization Configuration    Allow HR Administrator Access to Member Role    Yes    yes
    Navigate To    USERS    Administrators & Contacts
    Update Admin Account Configuration    Allow Administrator to Access Member Role    Yes    yes
    Logout Vista Admin
    Login as HR admin
    Navigate To HR Menu    Employees
    Add Employee In HR Admin    td:mandatory    lastname
    Navigate To HR Menu    Employees
    Perform Simple Employee Search    HMVlastname
    View In Member Role
    Log Out To See Latest Changes    You have been working in another window

9.Pre-Qualifying Survey
    [Documentation]    Author : *Nagarjuna Behara*
    ...
    ...    Test Case Title: *Pre-Qualifying Survey*
    ...
    ...    1) Login to eEnrollment as a Vista User
    ...
    ...    2) Search for Group "PrequalifyingSurvey Automation Group"
    ...
    ...    3) Navigate to Group Customization
    ...
    ...    4) Set 'Allow Administrator to Access Member Role' property as Yes
    ...
    ...    5) Click on Save in Group Customization
    ...
    ...    6) Navigate to Offers in BENEFITS Tab
    ...
    ...    7) Verify the Current offer Medical 2016
    ...
    ...    8) Click on \ Edit Offer Details
    ...
    ...    9) set 'Ask Pre-Qualifying Survey' property as 'Require a prequalifying survey'
    ...
    ...    10) Logout to eEnrollment as a Vista User
    ...
    ...    11) Login to eEnrollment as HR Admin
    ...
    ...    12) Verify Home Page
    ...
    ...    13) Navigate to Employees page in HR Menu
    ...
    ...    14) Add new employee with mandatory fields with Dental plan
    ...
    ...    15) Navigate to Employee Page in HR Role
    ...
    ...    16) Search the current employee
    ...
    ...    17) Click on View in Member Role under 'Manage Employee'
    ...
    ...    18) fill the all mandatory fields in Member profile page
    ...
    ...    19) Complete the all steps for Pre Qualifying survey with Dental plan and with 'Employee only'
    ...
    ...    20) Verify the Pre Qualifying Survey in Member Profile Page
    ...
    ...    21) Logout From both HR role and Member role
    ...
    ...    Test Case No: 46
    [Tags]    donotrun
    Login as vista admin with valid credentials
    Perform Group Search    td:automationgroup4
    Navigate To    BASICS    Group Customization
    Group Customization Configuration    Allow HR Administrator Access to Member Role    Yes    yes
    Navigate To    USERS    Administrators & Contacts
    Update Admin Account Configuration    Allow Administrator to Access Member Role    Yes    yes
    Navigate To    BENEFITS    Offers
    Verify Vista Offer    Current    Medical 2016
    Edit Offer In Vista Role    Current    Medical 2016
    Update Edit Offer Details    Ask Pre-Qualifying Survey    Require a prequalifying survey
    Logout Vista Admin
    Login To Enrollment As HR Admin    hrpredqualifyingsurvycredentials
    Verify Message    Home
    Capture Page Screenshot
    Navigate To HR Menu    Employees
    Add Employee In HR Admin    td:dentalplan    lastname
    Navigate To HR Menu    Employees
    Perform Simple Employee Search    HMVlastname
    View In Member Role
    Run Member Profile Pages
    Pre Qualifying Survey In Member Role    HMVlastname    Employee Only
    Log Out To See Latest Changes    You have been working in another window

10.Group Setup
    [Documentation]    Author : *Nagarjuna Behara*
    ...
    ...    Test Case Title: *Group Setup*
    ...
    ...    1) Login to eEnrollment as a Vista User
    ...
    ...    2) Search for Group "BF QA Race Group"
    ...
    ...    3) Navigate to Group Customization
    ...
    ...    4) Set 'Content Management' property as 'Enabled'
    ...
    ...    5) Click on Save in Group Customization
    ...
    ...    6) Navigate to Administrators & Contacts under USERS Tab
    ...
    ...    7) Set 'Access Group Setup tab' property as 'Yes'
    ...
    ...    8) Click on save in Administrators & Contacts page
    ...
    ...    9) Logout to eEnrollment as a Vista User
    ...
    ...    10) Login to eEnrollment as HR Admin
    ...
    ...    12) Verify Home Page
    ...
    ...    13) Navigate to GroupSettings page in HR Menu
    ...
    ...    14) Verify the Group Setup in Group Setu Page
    ...
    ...    15) Logout From both HR role and Member role
    ...
    ...    Test Case No: 160 from Regreesion Sheet
    Login as vista admin with valid credentials
    Perform Group Search    td:automationgroup1
    Navigate To    BASICS    Group Customization
    Group Customization Configuration    Content Management    Enabled    yes
    Navigate To    USERS    Administrators & Contacts
    Update Admin Account Configuration    Access Group Setup tab    Yes    yes
    Logout Vista Admin
    Login as HR admin
    Navigate To HR Menu    GROUPSETUP
    Logout HR Admin
    Login as vista admin with valid credentials
    Perform Group Search    td:automationgroup1
    Navigate To    USERS    Administrators & Contacts
    Update Admin Account Configuration    Access Group Setup tab    No    yes
    Logout Vista Admin
