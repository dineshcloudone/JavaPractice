*** Settings ***
Documentation     This test suite consists of all test cases related to email notification messages
Test Setup        getResource
Force Tags        email messages    QCOE
Resource          ../../../Resources/common.txt

*** Test Cases ***
1.Send Message Now
    [Documentation]    Author : *Bhavan Mettu*
    ...
    ...    Test Case Title: *Send Message Now*
    ...
    ...    Test Steps :
    ...
    ...    1. Login To Enrollment As Vista Admin ((bfautomation/Password1)
    ...
    ...    2. Perform Group Search (QCoE Test Automation Group-B)
    ...
    ...    3. Enable "Scheduled Messages" from Group Customization Configurations
    ...
    ...    4. Navigate To -> Users -> Adminstartors & contacts
    ...
    ...    5. Allow access to "Scheduled Messages" from Admin Account Configuration settings
    ...
    ...    6. Logout Vista Admin
    ...
    ...    7. Login as HR admin (bhradminautomation/bfEnrol2)
    ...
    ...    8. Navigate To HR Menu "Employees"
    ...
    ...    9. Add Employee In HR Admin
    ...
    ...    10. Navigate To HR Menu "Employees"
    ...
    ...    11. Perform Simple Employee Search for created employee
    ...
    ...    12. Add personal Email To Employee and save
    ...
    ...    13. Click on Manage Employee button and select "Send Message" link
    ...
    ...    14. Enter all mandatory fields and click on Send button
    ...
    ...    15. Logout HR Admin
    #Prerequisite:
    Login To Enrollment As Vista Admin    validvistacredentials
    Perform Group Search    td:automationgroup1
    Group Customization Configuration    Scheduled Messages    Enabled    save
    Navigate To    Users    Administrators & Contacts
    Update Admin Account Configuration    Allow access to Scheduled Messages    Yes    yes
    Logout Vista Admin
    #Test Steps
    Login as HR admin
    Navigate To HR Menu    Employees
    Add Employee In HR Admin    td:add employee in HR    lastname
    Navigate To HR Menu    Employees
    BuiltIn.Sleep    2s
    Perform Simple Employee Search    HMVlastname
    Send Instant Message From Employee Overview
    Logout HR Admin

2.Send a Scheduled Message
    [Documentation]    Author : *Bhavan Mettu*
    ...
    ...    Test Case Title: *Send Message Now*
    ...
    ...    Test Steps :
    ...
    ...    1. Login To Enrollment As Vista Admin ((bfautomation/Password1)
    ...
    ...    2. Perform Group Search (QCoE Test Automation Group-B)
    ...
    ...    3. Enable "Scheduled Messages" from Group Customization Configurations
    ...
    ...    4. Navigate To -> Users -> Adminstartors & contacts
    ...
    ...    5. Allow access to "Scheduled Messages" from Admin Account Configuration settings
    ...
    ...    6. Logout Vista Admin
    ...
    ...    7. Login as HR admin (bhradminautomation/bfEnrol2)
    ...
    ...    8. Navigate To HR Menu "Employees"
    ...
    ...    9. Add Employee In HR Admin
    ...
    ...    10. Navigate To HR Menu "Employees"
    ...
    ...    11. Perform Simple Employee Search for created employee
    ...
    ...    12. Add personal Email To Employee and save
    ...
    ...    13. Click on Manage Employee button and select "Send Message" link
    ...
    ...    14. Enter all mandatory fields.
    ...
    ...    15. Select "Send this message later" option from Delivery Schedule dropdown
    ...
    ...    16. Enter scheduled date and time (Default value exactly 24 hrs from current date and time)
    ...
    ...    17. Click on Send button
    ...
    ...    18. Logout HR Admin
    Login To Enrollment As Vista Admin    validvistacredentials
    Perform Group Search    td:automationgroup1
    Group Customization Configuration    Scheduled Messages    Enabled    save
    Navigate To    Users    Administrators & Contacts
    Update Admin Account Configuration    Allow access to Scheduled Messages    Yes    yes
    Logout Vista Admin
    #Test Steps
    Login as HR admin
    Navigate To HR Menu    Employees
    Add Employee In HR Admin    td:allfields    lastname
    Navigate To HR Menu    Employees
    BuiltIn.Sleep    2s
    Perform Simple Employee Search    HMVlastname
    Send Scheduled Message From Employee Overview    d:currentdate:d:1
    Logout HR Admin

3.Send Scheduled Custom message
    [Documentation]    Author : *Rajeswari Nimmala*
    ...
    ...    Test Case Title: *Send Scheduled Custom Message*
    ...
    ...    Pre condition:
    ...
    ...    1. Enable Message Center for HR Admin: Login as BF Admin, Basics > Group Customizaton > Message Center > Enabled;
    ...
    ...    2. Provide access to HR Admin to Scheduled Messages: Login as BF Admin, Users > Administrators & Contacts > \ Allow to Access Message Center > Yes
    ...
    ...    Test Steps :
    ...
    ...    1. Login as a HRAdmin adn Navigate To HR Menu
    ...
    ...    2. Add New Employee with Category as "Medical"
    ...
    ...    3. Naviagte to Employee and search for employee with lastname
    ...
    ...    4.Get SSN value
    ...
    ...    5.Navigate too Messages
    ...
    ...    6.Send Scheduled Custom Message to currentdate
    ...
    ...    7.Logout HRAdmin
    ...
    ...
    ...
    ...    9.Navigate To HR Menu To Employee Summary Report
    ...
    ...    10. Verify \ PDF Content for Current Elections and dependent
    ...
    ...    11.Logout as HR Admin
    Login To Enrollment As Vista Admin    validvistacredentials
    Perform Group Search    td:automationgroup1
    Group Customization Configuration    Scheduled Messages    Enabled    save
    Navigate To    Users    Administrators & Contacts
    Update Admin Account Configuration    Allow access to Scheduled Messages    Yes    yes
    Logout Vista Admin
    Login as HR admin
    Navigate To HR Menu    Employees
    Add Employee In HR Admin    td:allfields    lastname
    Navigate To HR Menu    Employees
    Perform Simple Employee Search    HMVlastname
    Get Employee Details    ssn    value
    Navigate To HR Menu    Messages
    Send Scheduled Messages    Custom Scheduled Message    d:currentdate:d:1    HMVvalue
    Logout HR Admin
