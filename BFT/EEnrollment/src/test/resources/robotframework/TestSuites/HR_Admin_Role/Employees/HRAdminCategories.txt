*** Settings ***
Test Setup        getResource
Resource          ../../../Resources/Common.txt

*** Test Cases ***
1.Undo Category Change
    [Documentation]    Author : *Nagarjuna Behara*
    ...
    ...    Test Case Title: *Undo Category Change*
    ...
    ...
    ...    1) Login to eEnrollment as a Vista User
    ...
    ...    2) Search for Sponsor "BF QA Race Group"
    ...
    ...    3) Navigate to Group Customization under BASICS
    ...
    ...    4) Set Allow Undo Category Change/Termination' property as Yes
    ...
    ...    5) Logout to eEnrollment as a Vista User
    ...
    ...    6) Login to eEnrollment as HR Admin
    ...
    ...    7) Navigate to Employees Page
    ...
    ...    8) Add New Employee
    ...
    ...    9) Change the category with effective date
    ...
    ...    10) Click on Undo Category change under Manage Employee
    ...
    ...    13) Verify the current category and change category names in Undo Category page
    ...
    ...    14) Click on Revert To Original Category & Benefits Link
    ...
    ...    15) Verify the message( "You have successfully completed the undo category change process for") followed by Employee Name
    ...
    ...    16) Logout HR admin
    ...
    ...    *Sponsor name : BF QA RACE GROUP*
    ...
    ...    Test Case No : 84 (From Regression test case Document)
    Login as vista admin with valid credentials
    Perform Group Search    td:automationracegroup
    Navigate To    BASICS    Group Customization
    Group Customization Configuration    Enhanced Category Change Functionality    Disabled    yes
    Navigate To    BASICS    Group Customization
    Group Customization Configuration    Allow Undo Category Change/Termination    Yes    yes
    Logout Vista Admin
    Login as HR admin
    Navigate To HR Menu    Employees
    Add Employee In HR Admin    td:hradminmandatory    lastname
    Navigate To HR Menu    OVERVIEW
    Change Category    td:categorydetails
    Undo Category Change    td:categorydetails    td:hradminmandatory
    Revert To Original Category Benefits    HMVlastname
    Logout HR Admin
    Login as vista admin with valid credentials
    Perform Group Search    td:automationracegroup
    Member Search In Vista Role    HMVlastname
    Delete Member In Vista
    Navigate To    BASICS    Group Customization
    Group Customization Configuration    Allow Undo Category Change/Termination    No    yes
    Logout Vista Admin

2.EE Category change
    [Documentation]    Author : *Nagarjuna Behara*
    ...
    ...    Test Case Title: *EE Category change*
    ...
    ...
    ...    1) Login to eEnrollment as a Vista User
    ...
    ...    2) Search for Sponsor "BF QA Race Group"
    ...
    ...    3) Navigate to Group Customization under BASICS
    ...
    ...    4) Set Allow Undo Category Change/Termination' property as Yes
    ...
    ...    5) Logout to eEnrollment as a Vista User
    ...
    ...    6) Login to eEnrollment as HR Admin
    ...
    ...    7) Navigate to Employees Page
    ...
    ...    8) Add New Employee with Medical category
    ...
    ...    9) Navigate to BenefitEligibility
    ...
    ...    10) Complete Enrollment
    ...
    ...    11) Now navigate to Overview tab
    ...
    ...    12) Clickon edit icon against 'Categories'
    ...
    ...    13) Select 'Make Changes to Current categories' option against 'What would you like to do?
    ...
    ...    14) Click on next button
    ...
    ...    15) Enter effective date of change as 'current date''
    ...
    ...    16) Select any category from Categories drop down
    ...
    ...    17) Click on Next button, click on save button
    ...
    ...    18) Verify the message : 'You have successfully changed this employee's category selections.'
    ...
    ...    19) Logout HR admin
    ...
    ...    *Sponsor name : BF QA RACE GROUP*
    ...
    ...    Test Case No : 85 (From Regression test case Document)
    Login as vista admin with valid credentials
    Perform Group Search    td:automationracegroup
    Navigate To    BASICS    Group Customization
    Group Customization Configuration    Allow Undo Category Change/Termination    No    yes
    Navigate To    BASICS    Group Customization
    Group Customization Configuration    Enhanced Category Change Functionality    Enabled    yes
    Logout Vista Admin
    Login as HR admin
    Navigate To HR Menu    Employees
    Add Employee In HR Admin    td:hradminmandatory1    lastname
    Navigate To HR Menu    BenefitEligibility
    Verify Benefit Eligibility    Medical
    Select benefit and select plan and coverage level as HR admin    Medical 2016    Medical 2016    Employee Only
    Save Benefit    d:currentdate
    Verify Message    Benefits Snapshot
    Navigate To HR Menu    OVERVIEW
    Change Category    td:categorydetails
    Logout HR Admin
    Login as vista admin with valid credentials
    Perform Group Search    td:automationracegroup
    Navigate To    BASICS    Group Customization
    Group Customization Configuration    Enhanced Category Change Functionality    Disabled    yes
    Logout Vista Admin

3.EE Category change - Future
    [Documentation]    Author : *Nagarjuna Behara*
    ...
    ...    Test Case Title: *EE Category change - Future*
    ...
    ...
    ...    1) Login to eEnrollment as a Vista User
    ...
    ...    2) Search for Sponsor "BF QA Race Group"
    ...
    ...    3) Navigate to Group Customization under BASICS
    ...
    ...    4) Set Allow Undo Category Change/Termination' property as Yes
    ...
    ...    5) Logout to eEnrollment as a Vista User
    ...
    ...    6) Login to eEnrollment as HR Admin
    ...
    ...    7) Navigate to Employees Page
    ...
    ...    8) Add New Employee with Medical category
    ...
    ...    9) Navigate to BenefitEligibility
    ...
    ...    10) Complete Enrollment
    ...
    ...    11) Now navigate to Overview tab
    ...
    ...    12) Clickon edit icon against 'Categories'
    ...
    ...    13) Select 'Schedule Future Changes to categories' option against 'What would you like to do?
    ...
    ...    14) Click on next button
    ...
    ...    15) Enter effective date of change as 'future date''
    ...
    ...    16) Select any category from Categories drop down
    ...
    ...    17) Click on Next button, click on save button
    ...
    ...    18) Verify the message : 'You have successfully changed this employee's category selections.'
    ...
    ...    19) Logout HR admin
    ...
    ...    *Sponsor name : BF QA RACE GROUP*
    ...
    ...    Test Case No : 86 (From Regression test case Document)
    Login as vista admin with valid credentials
    Perform Group Search    td:automationracegroup
    Navigate To    BASICS    Group Customization
    Group Customization Configuration    Allow Undo Category Change/Termination    No    yes
    Navigate To    BASICS    Group Customization
    Group Customization Configuration    Enhanced Category Change Functionality    Enabled    yes
    Logout Vista Admin
    Login as HR admin
    Navigate To HR Menu    Employees
    Add Employee In HR Admin    td:hradminmandatory1    lastname
    Navigate To HR Menu    BenefitEligibility
    Verify Benefit Eligibility    Medical
    Select benefit and select plan and coverage level as HR admin    Medical 2016    Medical 2016    Employee Only
    Save Benefit    d:currentdate
    Verify Message    Benefits Snapshot
    Navigate To HR Menu    OVERVIEW
    Change Category    td:categorydetails
    Logout HR Admin
    Login as vista admin with valid credentials
    Perform Group Search    td:automationracegroup
    Navigate To    BASICS    Group Customization
    Group Customization Configuration    Enhanced Category Change Functionality    Disabled    yes
    Logout Vista Admin

5.Restricted category
    [Documentation]    Author : *Sekhar Tirumala*
    ...
    ...    Test Case Title: *Restricted Category*
    ...
    ...
    ...    1) Login to eEnrollment as a Vista User
    ...
    ...    2) Search for Sponsor *BF QA OE Test Automation Group*
    ...
    ...    3) Navigate to \ BASICS > Categories
    ...
    ...    4) *Add Category Type* and \ *Create New Actegory*
    ...
    ...    5) *Edit Category Type* > *HR Administrator/Broker Category Type Restrctions* > *View Only*
    ...
    ...    6) Save Configuration
    ...
    ...    7) *Edit Category Type* > *HR Administrator/Broker Category Assignment Permission* > *No*
    ...
    ...    8) Save Configuration
    ...
    ...    9) Logout to eEnrollment as a Vista User
    ...
    ...    10) Login to eEnrollment as HR Admin
    ...
    ...    11) Navigate to Employees Page
    ...
    ...    12) Add New Employee inHr Admin.
    ...
    ...    13) Navigate to > *OverView* Page.
    ...
    ...    14) Navigate to > *Categories* Page.
    ...
    ...    15) Verify Restricted message *Category selection cannot be changed.*
    ...
    ...    16) Logout HR admin
    ...
    ...    17) Login to eEnrollment as a Vista User
    ...
    ...    18) Search for Sponsor "BF QA Race Group"
    ...
    ...    19) Search Member InVista Role which you have creatd in Hr Role.
    ...
    ...    20) Delete Member In Vista role.
    ...
    ...    21) Navigate to *Basics* > *Categories* page.
    ...
    ...    22) Delete created category.
    ...
    ...    23) \ Logout to eEnrollment as a Vista User
    ...
    ...
    ...
    ...
    ...
    ...    *Sponsor name : BF QA RACE GROUP*
    ...
    ...    Test Case No : 88 (From Regression test case Document)
    Login as vista admin with valid credentials
    Perform Group Search    td:automationracegroup
    Navigate To    BASICS    Categories
    Add Category Type    Category Type Name    RNDAutoTest    strCategoryName
    Next
    Create New Category    RNDCategoryName    RNDCategoryDescription    yes
    Edit Category Type In Vista Role    HMVstrCategoryName    HR Administrator/Broker Category Type Restrictions    View Only
    Save Configuration
    Edit Category Type In Vista Role    HMVstrCategoryName    HR Administrator/Broker Category Assignment Permission    No
    Save Configuration
    Logout Vista Admin
    Login as HR admin
    Navigate To HR Menu    Employees
    Add Employee In HR Admin    td:hradminmandatory    lastname
    Navigate To HR Menu    OVERVIEW
    Navigate To HR Menu    CATEGORIES
    Logout HR Admin
    Login as vista admin with valid credentials
    Perform Group Search    td:automationracegroup
    Member Search In Vista Role    HMVlastname
    Delete Member In Vista
    Navigate To    BASICS    Categories
    Delete Category    HMVstrCategoryName
    Logout Vista Admin

6.Restrict CategoryType
    [Documentation]    Author : *Rajeswari Nimmala*
    ...
    ...    Test Case Title: *Restrict Category Type*
    ...
    ...    Test Steps :
    ...
    ...    1. Login as a Vista admin
    ...
    ...    2. Perform Group Search
    ...
    ...    3. Navigate to Categories
    ...
    ...    4. Edit category to View Only for Administrator and Broker restrictions
    ...
    ...    5.Logout As Vista
    ...
    ...    6.Login as HR Admin
    ...
    ...    7.Verify Restrictions are applied by searching Employees View Only
    ...
    ...    8.Logout as HR Admin
    [Tags]    QCOE
    Login as vista admin with valid credentials
    Perform Group Search    td:automationgroup5
    Navigate To    Basics    Categories
    Builtin.Sleep    2s
    Edit Category Type In Vista Role    Status    HR Administrator/Broker Category Type Restrictions    View Only
    Logout Vista Admin
    Login as HR admin
    Navigate To HR Menu    Employees
    Perform Advance Employee Search    ,    Categories    Full Tme
    Verify No Of Employees    Active    0
    Logout HR Admin
    Login as vista admin with valid credentials
    Perform Group Search    td:automationgroup5
    Navigate To    Basics    Categories
    Builtin.Sleep    2s
    Edit Category Type In Vista Role    Status    HR Administrator/Broker Category Type Restrictions    View and Edit
    Logout Vista Admin

4.Undo Category Change - Future
    [Documentation]    Author : *Nagarjuna Behara*
    ...
    ...    Test Case Title: *Undo Category change - Future*
    ...
    ...
    ...    1) Login to eEnrollment as a Vista User
    ...
    ...    2) Search for Sponsor "BF QA Race Group"
    ...
    ...    3) Navigate to Group Customization under BASICS
    ...
    ...    4) Set Allow Undo Category Change/Termination' property as Yes
    ...
    ...    5) Logout to eEnrollment as a Vista User
    ...
    ...    6) Login to eEnrollment as HR Admin
    ...
    ...    7) Navigate to Employees Page
    ...
    ...    8) Add an employee with with a Plan (Eg: Medical)
    ...
    ...    9) Now navigate to Overview tab
    ...
    ...    10) Clickon edit icon against 'Categories'
    ...
    ...    11) Select 'Schedule Future Changes to categories' option against 'What would you like to do?
    ...
    ...    12) Enter effective date of change as 'future date''
    ...
    ...    13) Select any category from Categories drop down (Eg: Dental)
    ...
    ...    14) Click on Next button, click on save button
    ...
    ...    15) Verify the message : 'You have successfully changed this employee's category selections.'
    ...
    ...    16) Now navigate to Overview tab
    ...
    ...    17) Clickon edit icon against 'Categories'
    ...
    ...    18) Select 'Cancel future category changes' option against 'What would you like to do?
    ...
    ...    19) click on Next Button
    ...
    ...    20) Verify the "Cancel future category changes" Message
    ...
    ...    21) Verify the "Future Category Selection Effective Date"
    ...
    ...    22) Verify the "Current Category Selection Effective Date"
    ...
    ...    23) Logout HR admin
    ...
    ...    *Sponsor name : BF QA Test Automation Group*
    ...
    ...    Test Case No : 87 (From Regression test case Document)
    Login as vista admin with valid credentials
    Perform Group Search    td:automationracegroup
    Navigate To    BASICS    Group Customization
    Group Customization Configuration    Allow Undo Category Change/Termination    No    yes
    Navigate To    BASICS    Group Customization
    Group Customization Configuration    Enhanced Category Change Functionality    Enabled    yes
    Logout Vista Admin
    Login as HR admin
    Navigate To HR Menu    Employees
    Add Employee In HR Admin    td:hradminmandatory    lastname
    Navigate To HR Menu    OVERVIEW
    Change Category    td:categorydetails
    Navigate To HR Menu    OVERVIEW
    Change Category    td:cancelcategorydetails
    Logout HR Admin
    Login as vista admin with valid credentials
    Perform Group Search    td:automationracegroup
    Navigate To    BASICS    Group Customization
    Group Customization Configuration    Enhanced Category Change Functionality    Disabled    yes
    Logout Vista Admin
