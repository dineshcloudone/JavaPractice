*** Settings ***
Documentation     Test Suite consists of all the automated test scenarios for Search for Adminstrators functionality
Test Setup        getResource
Force Tags        administrators
Resource          ../../../../Resources/common.txt

*** Test Cases ***
1.Verify the functionality of adding the administrator account for the group
    [Documentation]    Author : *Sekhar Tirumala*
    ...
    ...    Test Case Title : *Login as a vista Admin and adding the administrator account for the group.*
    ...
    ...    Test Steps :
    ...
    ...    1) Launch eeshrel and login as Vistadmin (bfautomation/Password1)
    ...
    ...    2) Enter the "BF QA Automation Vista Admin" value in the Group search Box and click on Search button.
    ...
    ...    3) Navigate to Users Menu Bar and click on "Add Administrator Account" Link.
    ...
    ...    4) Fll All Mandatory Fileds and click on Save button.
    ...
    ...    5) Logout out as a vist admin.
    ...
    ...    Test Cases : 177
    [Tags]
    Login as vista admin with valid credentials
    Perform Group Search    td:automationgroup1
    Navigate To    USERS    Add Administrator Account
    Create Administrator Account In Vista Role    td:vistacreatenewadministratoraccountdetails    Outloginid    OutloginPassword
    Logout Vista Admin

2.Verify the functionality of Update HR Admin Password
    [Documentation]    Author : *Sekhar Tirumala*
    ...
    ...    Test Case Title : *Verify the functionality of Update HR Admin Password*
    ...
    ...    Test Steps :
    ...
    ...    1) Launch eeshrel and login as Existing Member \ (hradmin2013/BeEnrol1) , if conditon is *true* follow step2 to step 9 \ ,if conditon is *false* continue from \ Step 12 to Step14.
    ...
    ...    2) Login as Vista admin with valid credentials (bfautomation/Password1)
    ...
    ...    3) Enter the "BF QA Automation Vista Admin" value in the Group search Box and click on Search button.
    ...
    ...    4) Navigate to USERS \ Bar and click on "Add Administrator" Link.
    ...
    ...    5) Click on Create New vista Adminsitor Account, and fill mandtory fields ( *outloginId , outloginPassword*)
    ...
    ...    6) Click on Save Button.
    ...
    ...    7) Now Logout as vista admin.
    ...
    ...    8) \ login as Existing Member \ (*HMVoutloginId , HMVoutloginPassword*)
    ...
    ...    10) Update Hr Admin Password (*td:changeaccountsecuritypasswords \ bfEnrol1 bfEnrol0 bfEnrol0*)
    ...
    ...    11) logout as Hr admin.
    ...
    ...    12) Login as Hr Admin With Changed Credentials.
    ...
    ...
    ...
    ...
    ...
    ...    TestCases : HrAdmin
    Login As Existing Member    hradmin2013    Bfenrol
    BuiltIn.Log    ${test}
    Run Keyword If    '${test}' == 'notsuccessful'    Run Keywords    Login as vista admin with valid credentials
    ...    AND    Perform Group Search    td:automationgroup2
    ...    AND    Navigate To    USERS    Add Administrator Account
    ...    AND    Create Administrator Account In Vista Role    td:vistacreatenewadministratoraccountdetails    Outloginid    OutloginPassword
    ...    AND    Logout Vista Admin
    ...    AND    Login As Existing Member    HMVOutloginid    HMVOutloginPassword
    ...    AND    Update Hr Admin Password    td:changeaccountsecuritypasswords    bfEnrol1    bfEnrol0    bfEnrol0
    ...    AND    Logout HR Admin
    ...    AND    Login As Existing Member    HMVOutloginid    bfEnrol0
    ...    ELSE    Run Keywords    Update Hr Admin Password    td:changeaccountsecuritycpasswords    Bfenrol9    bfEnrol0
    ...    bfEnrol0    Logout HR Admin

3.Verify the functionality of Update HR Admin Email
    [Documentation]    Author : *Sekhar Tirumala*
    ...
    ...    Test Case Title : *Verify the functionality of Update HR Admin Email*
    ...
    ...    Test Steps :
    ...
    ...    1) Launch eeshrel and login as Existing Member \ (hradmin2013/BeEnrol1) , if conditon is *true* follow step2 to step 10 \ ,if conditon is *false* continue from \ Step 11 to Step12.
    ...
    ...    2) Login as Vista admin with valid credentials (bfautomation/Password1)
    ...
    ...    3) Enter the "BF QA Automation Vista Admin" value in the Group search Box and click on Search button.
    ...
    ...    4) Navigate to USERS \ Bar and click on "Add Administrator" Link.
    ...
    ...    5) Click on Create New vista Adminsitor Account, and fill mandtory fields ( *outloginId , outloginPassword*)
    ...
    ...    6) Click on Save Button.
    ...
    ...    7) Now Logout as vista admin.
    ...
    ...    8) \ login as Existing Member \ (*HMVoutloginId , HMVoutloginPassword*)
    ...
    ...    9) \ Update Hr Admin Email \ (*td:changeaccountsecuritypasswords testbf@bf.com*)
    ...
    ...    10) logout as Hr admin.
    ...
    ...    11) Update Hr Admin Email \ (*td:changeaccountsecuritypasswords testbf@bf.com*)
    ...
    ...    12) logout as Hr admin.
    ...
    ...
    ...    TestCases : HrAdmin
    Login As Existing Member    hradmin2013    Bfenrol
    BuiltIn.Log    ${test}
    Run Keyword If    '${test}' == 'notsuccessful'    Run Keywords    Login as vista admin with valid credentials
    ...    AND    Perform Group Search    td:automationgroup2
    ...    AND    Navigate To    USERS    Add Administrator Account
    ...    AND    Create Administrator Account In Vista Role    td:vistacreatenewadministratoraccountdetails    Outloginid    OutloginPassword
    ...    AND    Logout Vista Admin
    ...    AND    Login As Existing Member    HMVOutloginid    HMVOutloginPassword
    ...    AND    Update Hr Admin Email    td:changeaccountsecuritypasswords    testbf@bf.com
    ...    ELSE    Update Hr Admin Email    td:changeaccountsecuritypasswords    testbf@bf.com    Logout HR Admin

4.Verify HR Admin Lock-out Status
    [Documentation]    Author : *Sekhar Tirumala*
    ...
    ...    Test Case Title : *Verify HR Admin Lock-out Status*
    ...
    ...    Test Steps :
    ...
    ...    1) Login as Vista admin with valid credentials (bfautomation/Password1)
    ...
    ...    2) Enter the "BF QA OE Test Automation Group" value in the Group search Box and click on Search button.
    ...
    ...    3) Navigate to *Basics* Bar and click on *User Access* Link.
    ...
    ...    4) Select the *System Access* drop Down value *Access denied for all users* and save .
    ...
    ...    5) \ Navigate to *Basics* Bar and click on *User Access* Link.
    ...
    ...    6) Select the *Lockout Message* enter the value *The system is temporarily unavailable to you as we are currently configuring your benefits for your upcoming open enrollment period.* \ \ and save .
    ...
    ...    7) \ Logout as vista admin.
    ...
    ...    8) \ login To Enrollment As HR Admin \ (*hradminsystemdsiabled , bfEnrol0*)
    ...
    ...    9) verify the Message *The system is temporarily unavailable to you as we are currently configuring your benefits for your upcoming open enrollment period.*
    ...
    ...    10) Login as Vista admin with valid credentials (bfautomation/Password1)
    ...
    ...    11) Enter the "BF QA OE Test Automation Group" value in the Group search Box and click on Search button.
    ...
    ...    12) Navigate to *Basics* Bar and click on *User Access* Link.
    ...
    ...    13) Select the *System Access* drop Down value *Access allowed for all users* and save .
    ...
    ...    14) \ Navigate to *Basics* Bar and click on *User Access* Link.
    ...
    ...    15) Select the *Lockout Message* enter the value *Enabled* \ \ and save .
    ...
    ...    16) \ Logout as vista admin.
    ...
    ...    TestCases : VistaRoleHrAdmin 43 Case.
    Login as vista admin with valid credentials
    Perform Group Search    td:automationgroup2
    Navigate To    Basics    User Access
    Update User configuration for Group in vista    System Access    Access denied for all users    yes
    Navigate To    Basics    User Access
    Update User configuration for Group in vista    Lockout Message    The system is temporarily unavailable to you as we are currently configuring your benefits for your upcoming open enrollment period.    yes
    Logout Vista Admin
    Login To Enrollment As HR Admin    td:validhrcredentialsforgroup
    Login as vista admin with valid credentials
    Perform Group Search    td:automationgroup2
    Navigate To    Basics    User Access
    Update User configuration for Group in vista    System Access    Access allowed for all users    yes
    Navigate To    Basics    User Access
    Update User configuration for Group in vista    Lockout Message    Enabled    yes
    Logout Vista Admin

5.Verify HR Admin Transaction Permissions
    [Documentation]    Test Case Title : *Verify HR Admin Transaction Permissions*
    ...
    ...    Author : *Rajeswari Nimmala*
    ...
    ...    Test Steps :
    ...
    ...    1. Login as Vista admin with valid credentials
    ...
    ...    2. Search for group *BF QA Test Automation Group Vista* .
    ...
    ...    3. Navigate to *Benefits* Menu Bar and click on *Adminstrators & Contacts*.
    ...
    ...    4. Update admin acoount configuration work information:Access to Earnings Info --No
    ...
    ...    5. Navigate to *Users* Menu Bar and click on *Add member*.
    ...
    ...    6. Add member and save
    ...
    ...    7. Logout as vista admin.
    ...
    ...    8. Login As HR admin
    ...
    ...    9. Navigate to Hr Menu to Employees
    ...
    ...    10. Perform simple employee search
    ...
    ...    11. Navigate to HR menu Benefit details.
    ...
    ...    12. Verify message to FSA 2016
    ...
    ...    13. Login as vista admin
    ...
    ...    14. Update admin acount configuration work Information: Access to Earnings info -- Yes
    ...
    ...    15. Disable paln enablement
    ...
    ...    16. Logout as vista
    [Tags]    QCOE
    Login To Enrollment As Vista Admin    td:validvistacredentials
    Perform Group Search    td:automationgroup
    Navigate To    Benefits    Offer Enablement
    Vista Offer Enablement    FSA 2016    enable
    Navigate To    Users    Administrators & Contacts
    Update Admin Account Configuration    Work Information: Access to Earnings Info    No    yes
    Navigate To    Users    Add Member
    Add Member In Vista    td:fsaplan    lastname
    Logout Vista Admin
    Login as HR admin
    Navigate To HR Menu    Employees
    Perform Simple Employee Search    HMVlastname
    Navigate To HR Menu    Benefitdetails
    Verify Message    FSA 2016
    Logout HR Admin
    Login To Enrollment As Vista Admin    td:validvistacredentials
    Perform Group Search    td:automationgroup
    Navigate To    Users    Administrators & Contacts
    Update Admin Account Configuration    Work Information: Access to Earnings Info    Yes    yes
    Navigate To    Benefits    Offer Enablement
    Vista Offer Enablement    FSA 2016    disable
    Logout Vista Admin
